{"version":3,"file":"5.67e7139eeabe2f9f97fb.hot-update.js","sources":["webpack:///components/TransferForm.js"],"sourcesContent":["import React, { Component } from 'react';\nimport { Form, Input, Message, Button } from 'semantic-ui-react';\nimport { Router } from '../routes';\n \nexport default class TransferForm extends Component {\n  state = {\n    to: '',\n    tokens: '',\n    errorMessage: '',\n    loading: false\n  };\n\n  onSubmit = async event => {\n    event.preventDefault();\n\n    const {web3, contract, currentAccount} = this.props;\n    console.log(\"******* TransferForm onSubmit() address ***********\");\n    console.log(web3);\n    console.log(contract);\n    console.log('+++++++ current account: ',currentAccount); \n    console.log('+++++++ to: ', this.state.to);\n    console.log('+++++++ tokens: ', this.state.tokens); \n    \n    // const web3 = await getWeb3()     \n    // console.log(\"******* ContributeForm onSubmit()  web3  ***********\");\n    // console.log(web3);\n      \n    // const campaign = new web3.eth.Contract(\n    //   campaignDefinition.abi,\n    //   address\n    // )\n    // console.log(\"******* ContributeForm onSubmit()  campaign  ***********\");\n    // console.log(campaign);\n\n    this.setState({ loading: true, errorMessage: '' });\n\n    try {\n       const accounts = await web3.eth.getAccounts();\n       console.log(\"******* ContributeForm onSubmit()  accounts[0]  ***********\");\n       console.log(accounts[0]);\n \n\n      const result = await contract.methods.transferFrom(\n            currentAccount, this.state.to, this.state.tokens).send({\n              from: accounts[0]\n            });\n\n      console.log('Success?', result)\n\n      Router.replaceRoute(`/transfer`);\n    } catch (err) {\n      this.setState({ errorMessage: err.message }) \n      console.log(err.errorMessage)\n    }\n\n    this.setState({ loading: false, tokens: '', to: '' });\n  };\n\n  render() {\n    return (\n      <Form onSubmit={this.onSubmit} error={!!this.state.errorMessage}>\n        <Form.Field>          \n          <label>Tokens to Transfer</label>\n          \n          <Input\n            value={this.state.tokens}\n            onChange={event => this.setState({ tokens: event.target.value })}\n            label=\"No. of Tokens\"\n            labelPosition=\"left\"\n          />\n          <p></p>\n          <Input\n            value={this.state.to}\n            onChange={event => this.setState({ to: event.target.value })}\n            label=\"Transfer To\"\n            labelPosition=\"left\"\n          />\n          <p></p>\n        </Form.Field>\n\n        <Message error header=\"ERROR\" content={this.state.errorMessage} />\n        <Button primary loading={this.state.loading}>\n          Transfer Now\n        </Button>\n      </Form>\n    );\n  }\n}\n \n\n\n\n// WEBPACK FOOTER //\n// components/TransferForm.js"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;AACA;AACA;AACA;AACA;AACA;AAJA;;;;;;;;AAOA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AADA;AAIA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAvBA;AAAA;AAAA;AACA;AADA;AAyBA;AACA;AACA;AA3BA;AAAA;AAgCA;AADA;AACA;AAhCA;AA8BA;AAKA;AAEA;AArCA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AAsCA;AAAA;AAAA;AACA;AAAA;AACA;AAzCA;AA2CA;AAAA;AAAA;AAAA;AAAA;AACA;AA5CA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;;;;;;;;;;AA6CA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAMA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAMA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;;;;AAlFA;AACA;;;;;A","sourceRoot":""}